(()=>{const e=document.getElementById("container"),t=document.getElementById("to-do-column");var n=-1;const o=document.getElementById("newtodobtn");o.addEventListener("click",(e=>{o.style.display="none",(()=>{n+=1;let e=document.createElement("div"),l=document.createElement("textarea"),a=document.createElement("div"),c=document.createElement("input"),m=document.createElement("input");e.className="to-do",a.className="enter-and-cancel",c.className="enter",l.className="input",m.className="cancel",l.type="text",c.type="submit",c.value="Add to-do",m.type="button",m.value="Cancel",a.appendChild(c),a.appendChild(m),e.appendChild(l),e.appendChild(a),t.appendChild(e),console.log("hey"),l.focus(),l.addEventListener("keypress",(a=>{if("Enter"==a.key){t.removeChild(e);let a=document.createElement("div"),c=document.createElement("textarea"),m=document.createElement("button");a.className="card-div",m.className="done-btn",c.className="card",m.type="button",m.textContent="ðŸ—¸",c.textContent=l.value,m.id=n,c.id=n,a.id="carddiv",c.spellcheck=!1,a.appendChild(c),a.appendChild(m),t.appendChild(a),o.style.display="block",d()}})),c.onclick=()=>{t.removeChild(e);let a=document.createElement("div"),c=document.createElement("textarea"),m=document.createElement("button");a.className="card-div",m.className="done-btn",c.className="card",m.type="button",m.textContent="ðŸ—¸",c.textContent=l.value,m.id=n,c.id=n,a.id="carddiv",c.spellcheck=!1,a.appendChild(c),a.appendChild(m),t.appendChild(a),o.style.display="block",d()},m.onclick=()=>{t.removeChild(e),o.style.display="block"}})()})),e.addEventListener("keypress",(e=>{if("Enter"==e.key){var t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].id==e&&t[e].blur()}})),e.addEventListener("click",(t=>{"done-btn"==t.target.className&&(function(t){var n=document.getElementsByClassName("done-btn"),o=document.getElementsByClassName("card"),l=document.getElementsByClassName("card-div");for(let a=0;a<n.length;a++)n[a].id==t.target.id&&("ðŸ—¸"==n[a].textContent?(o[a].className="card done-todo",n[a].textContent="x"):"x"==n[a].textContent&&e.removeChild(l[a]))}(t),d())})),window.openForm=function(){document.getElementById("myForm").style.display="block"};const l=document.getElementById("myForm");function a(){var e=localStorage.getItem("count"),t=localStorage.getItem("cards");document.getElementById("to-do-column").innerHTML=t,n=Number(e),console.log(n)}function d(){localStorage.setItem("cards",document.getElementById("to-do-column").innerHTML),localStorage.setItem("count",n),a()}document.getElementById("cancel").addEventListener("click",(()=>{l.style.display="none"})),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("localStorage works"):console.log("Error: localStorage not working"),localStorage.getItem("cards")?(console.log("reload"),a()):(console.log("empty"),d())})();