(()=>{const e=document.getElementById("container"),t=document.getElementById("to-do-column");var n=-1;const o=document.getElementById("newtodobtn");o.addEventListener("click",(e=>{o.style.display="none",(()=>{n+=1;let e=document.createElement("div"),a=document.createElement("textarea"),d=document.createElement("div"),c=document.createElement("input"),m=document.createElement("input");e.className="to-do",d.className="enter-and-cancel",c.className="enter",a.className="input",m.className="cancel",a.type="text",c.type="submit",c.value="Add to-do",m.type="button",m.value="Cancel",d.appendChild(c),d.appendChild(m),e.appendChild(a),e.appendChild(d),t.appendChild(e),a.focus(),a.addEventListener("keypress",(d=>{if("Enter"==d.key){t.removeChild(e);let d=document.createElement("div"),c=document.createElement("textarea"),m=document.createElement("button");d.className="card-div",m.className="done-btn",c.className="card",m.type="button",m.textContent="ðŸ—¸",c.textContent=a.value,m.id=n,c.id=n,d.id="carddiv",c.spellcheck=!1,d.appendChild(c),d.appendChild(m),t.appendChild(d),o.style.display="block",l()}})),c.onclick=()=>{t.removeChild(e);let d=document.createElement("div"),c=document.createElement("textarea"),m=document.createElement("button");d.className="card-div",m.className="done-btn",c.className="card",m.type="button",m.textContent="ðŸ—¸",c.textContent=a.value,m.id=n,c.id=n,d.id="carddiv",c.spellcheck=!1,d.appendChild(c),d.appendChild(m),t.appendChild(d),o.style.display="block",l()},m.onclick=()=>{t.removeChild(e),o.style.display="block"}})()})),e.addEventListener("keypress",(e=>{if("Enter"==e.key){var t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].id==e&&t[e].blur()}})),e.addEventListener("click",(e=>{"done-btn"==e.target.className&&(function(e){var n=document.getElementsByClassName("done-btn"),o=document.getElementsByClassName("card"),a=document.getElementsByClassName("card-div");for(let d=0;d<n.length;d++)n[d].id==e.target.id&&("ðŸ—¸"==n[d].textContent?(o[d].className="card done-todo",n[d].textContent="x"):"x"==n[d].textContent&&t.removeChild(a[d]))}(e),l())})),window.openForm=function(){document.getElementById("myForm").style.display="block"};const a=document.getElementById("myForm");function d(){var e=localStorage.getItem("count"),t=localStorage.getItem("cards");document.getElementById("to-do-column").innerHTML=t,n=Number(e)}function l(){localStorage.setItem("cards",document.getElementById("to-do-column").innerHTML),localStorage.setItem("count",n),d()}document.getElementById("cancel").addEventListener("click",(()=>{a.style.display="none"})),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("localStorage works"):console.log("Error: localStorage not working"),localStorage.getItem("cards")?(console.log("load complete"),d()):(console.log("storage empty"),l())})();