(()=>{const e=document.getElementById("container"),t=document.getElementById("to-do-column"),n=document.getElementById("doing-column"),a=document.getElementById("done-column"),l=document.getElementById("plusdiv");var o=-1;const d=document.getElementById("newtodobtn");function c(){var e=localStorage.getItem("count"),t=localStorage.getItem("cards1"),n=localStorage.getItem("cards2"),a=localStorage.getItem("cards3");document.getElementById("to-do-column").innerHTML=t,document.getElementById("doing-column").innerHTML=n,document.getElementById("done-column").innerHTML=a,o=Number(e)}function m(){localStorage.setItem("cards1",document.getElementById("to-do-column").innerHTML),localStorage.setItem("cards2",document.getElementById("doing-column").innerHTML),localStorage.setItem("cards3",document.getElementById("done-column").innerHTML),localStorage.setItem("count",o),c()}d.addEventListener("click",(e=>{d.style.display="none",console.log("hey"),(()=>{o+=1;let e=document.createElement("div"),n=document.createElement("p"),a=document.createElement("textarea"),c=document.createElement("p"),s=document.createElement("textarea"),r=document.createElement("p"),i=document.createElement("input"),u=document.createElement("div"),p=document.createElement("input"),g=document.createElement("input");e.className="to-do-input",u.className="enter-and-cancel",p.className="enter",a.className="input1",s.className="input2",g.className="cancel",n.className="todo-title",c.className="todo-title",r.className="todo-title",i.className="date",i.type="date",a.type="text",s.type="text",p.type="submit",p.value="Add",g.type="button",g.value="Cancel",n.textContent="Title",c.textContent="Description",r.textContent="Due date",s.placeholder="Add more details..",u.appendChild(p),u.appendChild(g),e.appendChild(n),e.appendChild(a),e.appendChild(c),e.appendChild(s),e.appendChild(r),e.appendChild(i),e.appendChild(u),l.appendChild(e),a.focus(),a.addEventListener("keypress",(n=>{if("Enter"==n.key){l.removeChild(e);let n=document.createElement("div"),c=document.createElement("p"),s=document.createElement("button");n.className="card-div",s.className="done-btn",c.className="card",s.type="button",s.textContent=">",c.textContent=a.value,s.id=o,c.id=o,n.id=o,c.spellcheck=!1,n.appendChild(c),n.appendChild(s),t.appendChild(n),d.style.display="block",m()}})),p.onclick=()=>{l.removeChild(e);let n=document.createElement("div"),a=document.createElement("textarea"),c=document.createElement("button");n.className="card-div",c.className="done-btn",a.className="card",c.type="button",c.textContent=">",a.textContent=input.value,c.id=o,a.id=o,n.id=o,a.spellcheck=!1,n.appendChild(a),n.appendChild(c),t.appendChild(n),d.style.display="block",m()},g.onclick=()=>{l.removeChild(e),d.style.display="block"}})()})),e.addEventListener("keypress",(e=>{if("Enter"==e.key){var t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].id==e&&t[e].blur()}})),e.addEventListener("click",(e=>{console.log(e),"done-btn"==e.target.className&&("card"==e.target.parentElement.childNodes[0].className?(console.log("hey"),function(e){var t=document.getElementsByClassName("done-btn"),a=document.getElementsByClassName("card"),l=document.getElementsByClassName("card-div");for(let o=0;o<t.length;o++)t[o].id===e.target.id&&">"==t[o].textContent&&(a[o].className="card in-progress",t[o].textContent="ðŸ—¸",n.appendChild(l[o]))}(e),m()):"card in-progress"==e.target.parentElement.childNodes[0].className?(function(e){var t=document.getElementsByClassName("done-btn"),n=document.getElementsByClassName("card"),l=document.getElementsByClassName("card-div");for(let o=0;o<t.length;o++)t[o].id===e.target.id&&"ðŸ—¸"==t[o].textContent&&(n[o].className="card done-todo",t[o].textContent="x",a.appendChild(l[o]))}(e),m()):"card done-todo"==e.target.parentElement.childNodes[0].className&&(function(e){var t=document.getElementsByClassName("done-btn"),n=document.getElementsByClassName("card-div");for(let l=0;l<t.length;l++)t[l].id===e.target.id&&"x"==t[l].textContent&&a.removeChild(n[l])}(e),m()))})),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("localStorage works"):console.log("Error: localStorage not working"),localStorage.getItem("cards1")||localStorage.getItem("cards2")||localStorage.getItem("cards3")?(console.log("load complete"),c()):(console.log("storage empty"),m())})();