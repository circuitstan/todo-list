(()=>{const e=document.getElementById("container"),t=document.getElementById("to-do-column"),n=document.getElementById("doing-column"),a=document.getElementById("done-column"),l=document.getElementById("plusdiv");var d=-1,o="";const c=document.getElementById("newtodobtn");c.addEventListener("click",(e=>{c.style.display="none",console.log("hey"),(()=>{d+=1,console.log(d);let e=document.createElement("div"),n=document.createElement("p"),a=document.createElement("textarea"),o=document.createElement("p"),m=document.createElement("textarea"),r=document.createElement("p"),i=document.createElement("input"),p=document.createElement("p"),u=document.createElement("input"),g=document.createElement("div"),E=document.createElement("input"),C=document.createElement("input");e.className="to-do-input",g.className="enter-and-cancel",E.className="enter",a.className="input1",a.required="true",m.className="input2",C.className="cancel",n.className="todo-title",o.className="todo-title",r.className="todo-title",p.className="todo-title",i.className="date",i.type="date",u.className="date",u.type="time",u.value="12:00",a.type="text",m.type="text",E.type="submit",E.value="Add",C.type="button",C.value="Cancel",n.textContent="Title",o.textContent="Description",r.textContent="Due date",p.textContent="Due time",m.placeholder="Add more details..",g.appendChild(E),g.appendChild(C),e.appendChild(n),e.appendChild(a),e.appendChild(o),e.appendChild(m),e.appendChild(r),e.appendChild(i),e.appendChild(p),e.appendChild(u),e.appendChild(g),l.appendChild(e),a.focus(),e.addEventListener("keypress",(n=>{if("Enter"==n.key){if(""==a.value)return void(a.className="input1 input-false");l.removeChild(e);let n=document.createElement("div"),o=document.createElement("p"),r=document.createElement("button");n.className="card-div",r.className="done-btn",o.className="card",r.type="button",r.textContent=">",o.textContent=a.value,r.id=d,o.id=d,n.id=d,o.spellcheck=!1,n.appendChild(o),n.appendChild(r),t.appendChild(n),c.style.display="block";let i=document.createElement("div"),p=document.createElement("p"),u=document.createElement("p"),g=document.createElement("input"),E=document.createElement("input");g.type="date",E.type="time",i.className="big-card",console.log(d),i.id=d,i.style.display="none",p.textContent=a.value,u.textContent=m.value,i.appendChild(p),i.appendChild(u),i.appendChild(g),i.appendChild(E),t.appendChild(i),s()}})),E.onclick=()=>{if(""==a.value)return void(a.className="input1 input-false");l.removeChild(e);let n=document.createElement("div"),o=document.createElement("p"),r=document.createElement("button");n.className="card-div",r.className="done-btn",o.className="card",r.type="button",r.textContent=">",o.textContent=a.value,r.id=d,o.id=d,n.id=d,o.spellcheck=!1,n.appendChild(o),n.appendChild(r),t.appendChild(n),c.style.display="block";let i=document.createElement("div"),p=document.createElement("p"),u=document.createElement("p"),g=document.createElement("input"),E=document.createElement("input");g.type="date",E.type="time",i.className="big-card",console.log(d),i.id=d,i.style.display="none",p.textContent=a.value,u.textContent=m.value,i.appendChild(p),i.appendChild(u),i.appendChild(g),i.appendChild(E),t.appendChild(i),s()},C.onclick=()=>{l.removeChild(e),c.style.display="block"}})()})),e.addEventListener("keypress",(e=>{if("Enter"==e.key){var t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].id==e&&t[e].blur()}})),e.addEventListener("click",(e=>{"done-btn"==e.target.className&&("card"==e.target.parentElement.childNodes[0].className?(function(e){var t=document.getElementsByClassName("done-btn"),a=document.getElementsByClassName("card"),l=document.getElementsByClassName("card-div"),d=document.getElementsByClassName("big-card");for(let o=0;o<t.length;o++)t[o].id===e.target.id&&">"==t[o].textContent&&(a[o].className="card in-progress",t[o].textContent="✓",n.appendChild(l[o]),n.appendChild(d[o]))}(e),s()):"card in-progress"==e.target.parentElement.childNodes[0].className?(function(e){var t=document.getElementsByClassName("done-btn"),n=document.getElementsByClassName("card"),l=document.getElementsByClassName("card-div"),d=document.getElementsByClassName("big-card");for(let o=0;o<t.length;o++)t[o].id===e.target.id&&"✓"==t[o].textContent&&(n[o].className="card done-todo",t[o].textContent="x",a.appendChild(l[o]),a.appendChild(d[o]))}(e),s()):"card done-todo"==e.target.parentElement.childNodes[0].className&&(function(e){var t=document.getElementsByClassName("done-btn"),n=document.getElementsByClassName("card-div"),l=document.getElementsByClassName("big-card");for(let d=0;d<t.length;d++)t[d].id===e.target.id&&"x"==t[d].textContent&&(a.removeChild(n[d]),a.removeChild(l[d]))}(e),s()))})),document.addEventListener("click",(e=>{if(console.log(e),"open"==o){if("big-card"!=e.target.className&&"big-card"!=e.target.parentNode.className)return console.log(e.target.parentNode.className),void function(){var e=document.getElementsByClassName("big-card");for(let t=0;t<e.length;t++)e[t].style.display="none",o="closed",console.log(o),s()}()}else"card"!=e.target.className&&"card in-progress"!=e.target.className&&"card done-todo"!=e.target.className||function(e){var t=document.getElementsByClassName("card"),n=document.getElementsByClassName("big-card");if("open"!=o)for(let a=0;a<t.length;a++)t[a].id===e.target.id&&(n[a].style.display="block",o="open",console.log(o),s())}(e)})),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("localStorage works"):console.log("Error: localStorage not working");const m=document.createElement("button");function s(){localStorage.setItem("cards1",document.getElementById("to-do-column").innerHTML),localStorage.setItem("cards2",document.getElementById("doing-column").innerHTML),localStorage.setItem("cards3",document.getElementById("done-column").innerHTML),localStorage.setItem("count",d),r()}function r(){var e=localStorage.getItem("count"),t=localStorage.getItem("cards1"),n=localStorage.getItem("cards2"),a=localStorage.getItem("cards3");document.getElementById("to-do-column").innerHTML=t,document.getElementById("doing-column").innerHTML=n,document.getElementById("done-column").innerHTML=a,d=Number(e)}e.appendChild(m),m.id="clear-data-btn",m.textContent="⟳",document.addEventListener("click",(e=>{"clear-data-btn"===e.target.id&&(localStorage.clear(),console.log("localStorage cleared"))})),localStorage.getItem("cards1")||localStorage.getItem("cards2")||localStorage.getItem("cards3")?(console.log("load complete"),r()):(console.log("storage empty"),s())})();