(()=>{const e=document.getElementById("container"),t=document.getElementById("to-do-column"),n=document.getElementById("doing-column"),a=document.getElementById("done-column"),d=document.getElementById("plusdiv"),l=document.getElementById("big-div");var o=-1,c="";const m=document.getElementById("newtodobtn");function s(){localStorage.setItem("cards1",document.getElementById("to-do-column").innerHTML),localStorage.setItem("cards2",document.getElementById("doing-column").innerHTML),localStorage.setItem("cards3",document.getElementById("done-column").innerHTML),localStorage.setItem("bigCards",document.getElementById("big-div").innerHTML),localStorage.setItem("count",o),r()}function r(){var e=localStorage.getItem("count"),t=localStorage.getItem("cards1"),n=localStorage.getItem("cards2"),a=localStorage.getItem("cards3"),d=localStorage.getItem("bigCards");document.getElementById("to-do-column").innerHTML=t,document.getElementById("doing-column").innerHTML=n,document.getElementById("done-column").innerHTML=a,document.getElementById("big-div").innerHTML=d,o=Number(e)}m.addEventListener("click",(e=>{m.style.display="none",console.log("hey"),(()=>{o+=1;let e=document.createElement("div"),n=document.createElement("p"),a=document.createElement("textarea"),c=document.createElement("p"),r=document.createElement("textarea"),i=document.createElement("p"),g=document.createElement("input"),u=document.createElement("div"),p=document.createElement("input"),E=document.createElement("input");e.className="to-do-input",u.className="enter-and-cancel",p.className="enter",a.className="input1",r.className="input2",E.className="cancel",n.className="todo-title",c.className="todo-title",i.className="todo-title",g.className="date",g.type="date",a.type="text",r.type="text",p.type="submit",p.value="Add",E.type="button",E.value="Cancel",n.textContent="Title",c.textContent="Description",i.textContent="Due date",r.placeholder="Add more details..",u.appendChild(p),u.appendChild(E),e.appendChild(n),e.appendChild(a),e.appendChild(c),e.appendChild(r),e.appendChild(i),e.appendChild(g),e.appendChild(u),d.appendChild(e);let y=document.createElement("div");y.className="big-card",l.appendChild(y),y.id=o,y.style.display="none",a.focus(),a.addEventListener("keypress",(n=>{if("Enter"==n.key){d.removeChild(e);let n=document.createElement("div"),l=document.createElement("p"),c=document.createElement("button");n.className="card-div",c.className="done-btn",l.className="card",c.type="button",c.textContent=">",l.textContent=a.value,c.id=o,l.id=o,n.id=o,l.spellcheck=!1,n.appendChild(l),n.appendChild(c),t.appendChild(n),m.style.display="block",s()}})),p.onclick=()=>{d.removeChild(e);let n=document.createElement("div"),l=document.createElement("p"),c=document.createElement("button");n.className="card-div",c.className="done-btn",l.className="card",c.type="button",c.textContent=">",l.textContent=a.value,c.id=o,l.id=o,n.id=o,l.spellcheck=!1,n.appendChild(l),n.appendChild(c),t.appendChild(n),m.style.display="block",s()},E.onclick=()=>{d.removeChild(e),m.style.display="block"}})()})),e.addEventListener("keypress",(e=>{if("Enter"==e.key){var t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].id==e&&t[e].blur()}})),e.addEventListener("click",(e=>{"done-btn"==e.target.className&&("card"==e.target.parentElement.childNodes[0].className?(function(e){var t=document.getElementsByClassName("done-btn"),a=document.getElementsByClassName("card"),d=document.getElementsByClassName("card-div");for(let l=0;l<t.length;l++)t[l].id===e.target.id&&">"==t[l].textContent&&(a[l].className="card in-progress",t[l].textContent="ðŸ—¸",n.appendChild(d[l]))}(e),s()):"card in-progress"==e.target.parentElement.childNodes[0].className?(function(e){var t=document.getElementsByClassName("done-btn"),n=document.getElementsByClassName("card"),d=document.getElementsByClassName("card-div");for(let l=0;l<t.length;l++)t[l].id===e.target.id&&"ðŸ—¸"==t[l].textContent&&(n[l].className="card done-todo",t[l].textContent="x",a.appendChild(d[l]))}(e),s()):"card done-todo"==e.target.parentElement.childNodes[0].className&&(function(e){var t=document.getElementsByClassName("done-btn"),n=document.getElementsByClassName("card-div");for(let d=0;d<t.length;d++)t[d].id===e.target.id&&"x"==t[d].textContent&&a.removeChild(n[d])}(e),s()))})),document.addEventListener("click",(e=>{console.log(e),"big-card"!=e.target.className&&function(){var e=document.getElementsByClassName("big-card");for(let t=0;t<e.length;t++)e[t].style.display="none",c="closed"}(),"card"!=e.target.className&&"card in-progress"!=e.target.className&&"card done-todo"!=e.target.className||function(e){var t=document.getElementsByClassName("card"),n=document.getElementsByClassName("big-card");if("open"!=c)for(let a=0;a<t.length;a++)t[a].id===e.target.id&&(n[a].style.display="block",c="open")}(e)})),function(e){var t;try{t=window.localStorage;var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}()?console.log("localStorage works"):console.log("Error: localStorage not working"),localStorage.getItem("cards1")||localStorage.getItem("cards2")||localStorage.getItem("cards3")?(console.log("load complete"),r()):(console.log("storage empty"),s())})();